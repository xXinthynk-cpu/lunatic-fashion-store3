<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lunatic Store Pro Max</title>

<style>
:root{
--green:#0f2e1c;
--cream:#f5f1e6;
--gold:#c49b63;
}
*{box-sizing:border-box;}
body{
margin:0;
font-family:sans-serif;
background:var(--cream);
}

header{
background:var(--green);
color:white;
padding:15px;
display:flex;
justify-content:space-between;
align-items:center;
position:sticky;
top:0;
z-index:999;
}

.logo{
font-weight:bold;
font-size:18px;
cursor:pointer;
}

.cart-btn{
background:var(--gold);
color:black;
padding:6px 12px;
border-radius:20px;
cursor:pointer;
}

.hero{
background:linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.6)),
url('https://images.unsplash.com/photo-1520975922284-9b3b9c3d8f89');
background-size:cover;
color:white;
text-align:center;
padding:70px 20px;
}

.section{
padding:30px 15px;
}

.products{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
gap:15px;
}

.card{
background:white;
border-radius:12px;
padding:10px;
box-shadow:0 3px 10px rgba(0,0,0,.1);
position:relative;
}

.slider{
position:relative;
}

.slider img{
width:100%;
aspect-ratio:4/5;
object-fit:cover;
border-radius:10px;
}

.slider button{
position:absolute;
top:50%;
transform:translateY(-50%);
background:rgba(0,0,0,.5);
color:white;
border:none;
padding:5px 10px;
cursor:pointer;
}

.slider button:first-of-type{left:5px;}
.slider button:last-of-type{right:5px;}

.badge{
position:absolute;
top:10px;
left:10px;
padding:4px 8px;
border-radius:20px;
font-size:12px;
color:white;
}

.best{background:var(--gold);}
.hot{background:red; top:35px;}

button{
background:var(--green);
color:white;
border:none;
padding:6px;
border-radius:5px;
cursor:pointer;
margin-top:5px;
width:100%;
}

select,input{
width:100%;
padding:6px;
margin:5px 0;
}

.popup{
position:fixed;
top:0;left:0;
width:100%;height:100%;
background:rgba(0,0,0,.7);
display:none;
justify-content:center;
align-items:center;
z-index:2000;
}

.popup-box{
background:white;
padding:20px;
border-radius:10px;
width:90%;
max-width:400px;
max-height:90vh;
overflow:auto;
}

</style>
</head>
<body>

<header>
<div class="logo" onclick="secretClick()">Lunatic Store</div>
<div class="cart-btn" onclick="openCart()">Keranjang (<span id="cartCount">0</span>)</div>
</header>

<div class="hero">
<h1>Ramadhan Collection</h1>
<p>Elegant â€¢ Modern â€¢ Premium</p>
</div>

<div class="section">
<select id="filterCategory" onchange="render()">
<option value="all">Semua Produk</option>
<option value="Gamis">Gamis</option>
<option value="Couple">Couple</option>
<option value="Anak">Anak</option>
</select>

<div class="products" id="productList"></div>
</div>

<!-- LOGIN -->
<div class="popup" id="loginPopup">
<div class="popup-box">
<h3>Admin Login</h3>
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button onclick="login()">Login</button>
</div>
</div>

<!-- ADMIN -->
<div class="popup" id="adminPopup">
<div class="popup-box">
<h3>Tambah Produk</h3>
<input type="hidden" id="editIndex">
<input type="text" id="title" placeholder="Nama Produk">
<input type="number" id="price" placeholder="Harga">
<input type="number" id="stock" placeholder="Stok">
<select id="category">
<option value="Gamis">Gamis</option>
<option value="Couple">Couple</option>
<option value="Anak">Anak</option>
</select>

<input type="text" id="img1" placeholder="URL Foto 1">
<input type="text" id="img2" placeholder="URL Foto 2">
<input type="text" id="img3" placeholder="URL Foto 3">
<input type="text" id="img4" placeholder="URL Foto 4">
<input type="text" id="img5" placeholder="URL Foto 5">

<label><input type="checkbox" id="bestSeller"> Best Seller</label>
<label><input type="checkbox" id="terlaris"> Produk Terlaris</label>

<button onclick="saveProduct()">Simpan</button>
</div>
</div>

<!-- CART -->
<div class="popup" id="cartPopup">
<div class="popup-box">
<h3>Keranjang</h3>
<div id="cartItems"></div>
<button onclick="checkout()">Checkout WA</button>
</div>
</div>

<script>

let products=JSON.parse(localStorage.getItem("products"))||[
{
title:"Gamis Emerald",
price:299000,
stock:10,
category:"Gamis",
bestSeller:true,
terlaris:true,
images:[
"https://via.placeholder.com/400x500?text=Gamis+1",
"https://via.placeholder.com/400x500?text=Gamis+2",
"https://via.placeholder.com/400x500?text=Gamis+3",
"https://via.placeholder.com/400x500?text=Gamis+4",
"https://via.placeholder.com/400x500?text=Gamis+5"
]
}
];

let cart=[];
let clickCount=0;
let isAdmin=localStorage.getItem("isAdmin")==="true";
let currentIndex={};

function saveData(){
localStorage.setItem("products",JSON.stringify(products));
localStorage.setItem("isAdmin",isAdmin);
}

function render(){
let container=document.getElementById("productList");
container.innerHTML="";
let filter=document.getElementById("filterCategory").value;

let filtered=filter==="all"?products:
products.filter(p=>p.category===filter);

filtered.forEach((p,i)=>{
container.innerHTML+=`
<div class="card">

${p.bestSeller?'<div class="badge best">Best Seller ðŸ”¥</div>':''}
${p.terlaris?'<div class="badge hot">Terlaris ðŸ‘‘</div>':''}

<div class="slider">
<img src="${p.images[0]}" id="img${i}">
<button onclick="prev(${i})">â€¹</button>
<button onclick="next(${i})">â€º</button>
</div>

<h4>${p.title}</h4>
<p>Rp ${p.price.toLocaleString()}</p>
<p>Stok: ${p.stock}</p>

<button onclick="addCart(${i})">Tambah</button>
${isAdmin?`
<button onclick="editProduct(${i})">Edit</button>
<button onclick="deleteProduct(${i})">Hapus</button>
`:""}

</div>
`;
});
document.getElementById("cartCount").innerText=cart.length;
}

function next(i){
if(!currentIndex[i]) currentIndex[i]=0;
currentIndex[i]++;
if(currentIndex[i]>=products[i].images.length)
currentIndex[i]=0;
document.getElementById("img"+i).src=
products[i].images[currentIndex[i]];
}

function prev(i){
if(!currentIndex[i]) currentIndex[i]=0;
currentIndex[i]--;
if(currentIndex[i]<0)
currentIndex[i]=products[i].images.length-1;
document.getElementById("img"+i).src=
products[i].images[currentIndex[i]];
}

function addCart(i){
if(products[i].stock>0){
products[i].stock--;
cart.push(products[i]);
saveData();
render();
}else alert("Stok habis");
}

function openCart(){
document.getElementById("cartPopup").style.display="flex";
let html="";
cart.forEach(p=>{
html+=`<p>${p.title} - Rp ${p.price}</p>`;
});
document.getElementById("cartItems").innerHTML=html||"Kosong";
}

function checkout(){
let text="Halo saya mau pesan:%0A";
cart.forEach(p=>{
text+=`- ${p.title}%0A`;
});
window.open("https://wa.me/628123456789?text="+text);
}

function secretClick(){
clickCount++;
if(clickCount>=5){
document.getElementById("loginPopup").style.display="flex";
clickCount=0;
}
}

function login(){
if(username.value==="admin" && password.value==="12345"){
isAdmin=true;
saveData();
render();
document.getElementById("loginPopup").style.display="none";
document.getElementById("adminPopup").style.display="flex";
}else alert("Login salah");
}

function saveProduct(){
let idx=editIndex.value;
let data={
title:title.value,
price:Number(price.value),
stock:Number(stock.value),
category:category.value,
bestSeller:bestSeller.checked,
terlaris:terlaris.checked,
images:[
img1.value,img2.value,img3.value,img4.value,img5.value
]
};

if(idx==="") products.push(data);
else products[idx]=data;

saveData();
render();
document.getElementById("adminPopup").style.display="none";
}

function editProduct(i){
let p=products[i];
editIndex.value=i;
title.value=p.title;
price.value=p.price;
stock.value=p.stock;
category.value=p.category;
bestSeller.checked=p.bestSeller;
terlaris.checked=p.terlaris;
[img1,img2,img3,img4,img5].forEach((el,index)=>{
el.value=p.images[index];
});
document.getElementById("adminPopup").style.display="flex";
}

function deleteProduct(i){
products.splice(i,1);
saveData();
render();
}

render();
</script>

</body>
</html>
